<% layout("/layouts/boilerplate") %>

<div class="container d-flex justify-content-center align-items-center mb-4">
  <div class="p-4" style="max-width: 650px; width: 100%">
    <!-- Wallpaper Image -->
    <div class="text-center">
      <img
        src="<%= wallpaper.image %>"
        alt="Wallpaper"
        class="img-fluid rounded-3 shadow-sm"
        style="width: 100%; height: auto; max-height: 90vh"
      />
    </div>

    <!-- Details -->
    <ul class="mt-4 px-0" style="list-style: none">
      <li><strong>Title:</strong> <%= wallpaper.title %></li>
      <li><strong>Description:</strong> <%= wallpaper.description %></li>
      <li><strong>Category:</strong> <%= wallpaper.category %></li>
      <li><strong>Downloads:</strong> <%= wallpaper.downloads %></li>
      <li><strong>Views:</strong> <%= wallpaper.views %></li>
      <li><strong>Likes:</strong> <%= wallpaper.likes %></li>
      <li>
        <strong>Uploaded On:</strong> <%= wallpaper.createdAt.toLocaleString()
        %>
      </li>
    </ul>

    <!-- Buttons -->
    <div class="d-flex justify-content-between mt-4">
      <a
        href="/wallpapers/<%= wallpaper._id %>/edit"
        class="btn btn-primary w-45"
        >Edit</a
      >

      <form
        method="post"
        action="/wallpapers/<%= wallpaper._id %>?_method=DELETE"
        class="w-45"
      >
        <button class="btn btn-dark w-100">Delete</button>
      </form>
    </div>
  </div>
</div>

<hr />

<div class="container mt-4 mb-4">
  <div class="comment-box">
    <h5 class="mb-3">Leave a Comment</h5>
    <form
      action="/wallpapers/<%= wallpaper._id %>/comment"
      method="post"
      novalidate
      class="needs-validation"
    >
      <div class="mb-3">
        <textarea
          name="comment[text]"
          class="form-control"
          rows="4"
          placeholder="Write your comment here..."
          required
        ></textarea>
        <div class="invalid-feedback">
          Please enter a comment before submitting.
        </div>
      </div>
      <button type="submit" class="btn btn-outline-dark w-100">Submit</button>
    </form>
  </div>
</div>

<style>
  body {
    background: #f8f9fa;
    color: #333;
  }

  ul {
    padding: 0;
    font-size: 1rem;
  }

  ul li {
    margin-bottom: 8px;
  }

  ul li strong {
    color: #555;
  }

  .btn {
    padding: 10px;
    font-weight: 500;
    border-radius: 8px;
  }

  .btn-dark {
    background-color: #333;
    border: none;
  }

  .btn-dark:hover,
  .btn-outline-dark:hover {
    background-color: #000;
  }

  .w-45 {
    width: 48%;
  }

  .comment-box {
    max-width: 500px;
    margin: auto;
  }
</style>
